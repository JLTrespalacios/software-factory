"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FrontendGenerator = void 0;
const BaseGenerator_1 = require("../BaseGenerator");
class FrontendGenerator extends BaseGenerator_1.BaseGenerator {
    async generate(config) {
        const files = [
            ...this.getCommonFiles(config),
            this.createIndexHtml(config),
            this.createStyles(config),
            this.createMainScript(config),
            this.createPackageJson(config), // Even HTML/CSS projects can use Vite
            this.createViteConfig()
        ].flat();
        return {
            files,
            instructions: [
                'npm install',
                'npm run dev',
                'Open http://localhost:5173'
            ],
            dependencies: {
                "vite": "^5.0.0"
            }
        };
    }
    createIndexHtml(config) {
        return this.createFile('index.html', `
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>${config.projectName}</title>
    <link rel="stylesheet" href="./src/styles.css" />
  </head>
  <body>
    <div id="app">
      <header class="hero">
        <h1>${config.projectName}</h1>
        <p class="subtitle">Generated by Software Factory AI</p>
      </header>
      
      <main class="container">
        <section class="card">
            <h2>Welcome</h2>
            <p>This is your professional frontend project.</p>
            <button id="actionBtn">Click Me</button>
            <p id="output"></p>
        </section>
      </main>
    </div>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
    `);
    }
    createStyles(_config) {
        return this.createFile('src/styles.css', `
:root {
  --primary: #6366f1;
  --secondary: #4f46e5;
  --bg: #0f172a;
  --text: #f8fafc;
  --card-bg: #1e293b;
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background-color: var(--bg);
  color: var(--text);
  line-height: 1.5;
}

.hero {
  text-align: center;
  padding: 4rem 1rem;
  background: linear-gradient(to bottom right, var(--card-bg), var(--bg));
}

h1 {
  font-size: 3rem;
  font-weight: 800;
  background: linear-gradient(to right, #818cf8, #c084fc);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 0;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.2rem;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

.card {
  background: var(--card-bg);
  padding: 2rem;
  border-radius: 1rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

button {
  background-color: var(--primary);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s;
}

button:hover {
  background-color: var(--secondary);
}
    `);
    }
    createMainScript(_config) {
        return this.createFile('src/main.js', `
console.log('Application initialized');

document.addEventListener('DOMContentLoaded', () => {
  const btn = document.getElementById('actionBtn');
  const output = document.getElementById('output');
  
  let count = 0;
  
  if (btn && output) {
    btn.addEventListener('click', () => {
      count++;
      output.textContent = \`Button clicked \${count} times\`;
      
      // Simple animation effect
      btn.style.transform = 'scale(0.95)';
      setTimeout(() => btn.style.transform = 'scale(1)', 100);
    });
  }
});
    `);
    }
    createPackageJson(config) {
        return this.createFile('package.json', JSON.stringify({
            name: config.projectName.toLowerCase().replace(/\s+/g, '-'),
            version: "0.0.1",
            scripts: {
                "dev": "vite",
                "build": "vite build",
                "preview": "vite preview"
            },
            devDependencies: {
                "vite": "^5.0.0"
            }
        }, null, 2));
    }
    createViteConfig() {
        return this.createFile('vite.config.js', `
import { defineConfig } from 'vite';

export default defineConfig({
  server: {
    port: 3000
  }
});
    `);
    }
}
exports.FrontendGenerator = FrontendGenerator;
